# Dagather-Backend
### [ë‹¤ë¬¸í™” ê°€ì •ì„ ìœ„í•œ ì¹œêµ¬ ì‚¬ê·€ê¸° í”Œë«í¼]
ë‹¤ê²Œë”ëŠ” ë‹¤ë¬¸í™” ê°€ì •ì˜ ì •ë³´ ì·¨ì•½, ì™¸ë¡œì›€, í•œêµ­ ìƒí™œ ì ì‘ì˜ ì–´ë ¤ì›€ ë“±ì˜ ë¬¸ì œì ì—ì„œ ì¶œë°œí•˜ì—¬, <br>
ë‹¤ë¬¸í™” ê°€ì • ê°„ì˜ ì»¤ë®¤ë‹ˆí‹° í™œì„±í™”ë¥¼ ìœ„í•œ ì¹œêµ¬ ì‚¬ê·€ê¸° í”Œë«í¼ì„ ì œê³µí•©ë‹ˆë‹¤.
<img width="631" alt="Screenshot 2023-05-25 at 6 37 20 PM" src="https://github.com/Da-gather/Dagather-Backend/assets/79203421/fb6c1db1-2154-4dc3-b070-945ce59415e4">
<br><br>


## Key Features
- **ì¹œêµ¬ ì¶”ì²œ**

  ê°€ì… ëª©ì , ê´€ì‹¬ì‚¬, ê±°ë¦¬, í•œêµ­ê±°ì£¼ê¸°ê°„ ë“±ì„ ê¸°ë°˜ìœ¼ë¡œ í™ˆ í™”ë©´ì—ì„œ ì¹œêµ¬ë¥¼ ì¶”ì²œìˆœìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.

- **ë§ì¶¤ë²• ê²€ì‚¬ì™€ ë²ˆì—­**
  
  ì¹œêµ¬ì™€ ì±„íŒ…ì„ í•˜ë©° í•œêµ­ì–´ ë§ì¶¤ë²• ê²€ì‚¬ ê¸°ëŠ¥ì„ í†µí•´ í•œêµ­ì–´ ê³µë¶€ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
  ë‹¤ë¥¸ êµ­ì ì˜ ì¹œêµ¬ì™€ ì›í™œí•œ ì†Œí†µì„ ìœ„í•´ ë²ˆì—­ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
 
- **ë¯¸ì…˜**
  
  ì¹œêµ¬ì™€ ë” ì¹œí•´ì§€ê³ , í•œêµ­ê³¼ë„ ë” ì¹œí•´ì§ˆ ìˆ˜ ìˆë„ë¡ ë‹¤ì–‘í•œ ë¯¸ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤. <br>
  ì¹œêµ¬ì™€ í•¨ê»˜ ë¯¸ì…˜ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆê³ , ë§ˆì´í˜ì´ì§€ì—ì„œ ì™„ë£Œí•œ ë¯¸ì…˜ì„ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  
<br><br>

## ERD
<img width="999" alt="Screenshot 2024-02-11 at 6 46 37 PM" src="https://github.com/Da-gather/Dagather-Backend/assets/79203421/ba875055-e518-45c3-8202-0ae3dd011ebb">
<br><br>

## API ëª…ì„¸
| ê¸°ëŠ¥              | ì„¤ëª…                          |
| ----------------- | ----------------------------- |
| ğŸ‘« ì¹œêµ¬ | ì¹œêµ¬ ì‹ ì²­ ë° ìˆ˜ë½, ì¹œêµ¬ ì‚­ì œ, ì¹œêµ¬ ëª©ë¡ ì¡°íšŒ, ì¹œêµ¬ ì‹ ì²­ ëŒ€ê¸° ëª©ë¡ ì¡°íšŒ |
| ğŸ“ ë¯¸ì…˜ | ëœë¤ ë¯¸ì…˜ ìƒì„±, ë¯¸ì…˜ ì™„ë£Œ, ë¯¸ì…˜ ì¡°íšŒ, ë¯¸ì…˜ í†µê³„ ì¡°íšŒ |
| ğŸ—£ï¸ ì±„íŒ… | ë§ì¶¤ë²• ê²€ì‚¬ |
| ğŸ” í”„ë¡œí•„ | í”„ë¡œí•„ ìƒì„±, ìˆ˜ì •, ì¡°íšŒ |

<br><br>

## ì¹œêµ¬ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
ì½˜í…ì¸  ê¸°ë°˜ í•„í„°ë§ì„ í™œìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ì„ íƒí•œ ì·¨ë¯¸ì™€ ìœ ì‚¬í•œ ì·¨ë¯¸ë¥¼ ê°€ì§„ ì‚¬ìš©ìë¥¼ ì„œë¡œì—ê²Œ ì¶”ì²œí•´ì¤ë‹ˆë‹¤.

1. CountVectorizerë¥¼ ì‚¬ìš©í•´ ë™ì¼í•œ ì†ì„± ê°œìˆ˜ë¥¼ ì„¸ê³ , ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
```python
# CountVectorizer
count_vect = CountVectorizer(min_df=0, ngram_range=(1, 1))
purpose_mat = count_vect.fit_transform(df['purpose'])
interest_mat = count_vect.fit_transform(df['interest'])

# calculate cosine similarity
purpose_sim = cosine_similarity(purpose_mat, purpose_mat)
interest_sim = cosine_similarity(interest_mat, interest_mat)
```

2. ì‚¬ìš©ìì˜ ê°€ì… ëª©ì ì— ë”°ë¼ ê°€ì…ëª©ì /ì·¨ë¯¸/ê±°ë¦¬ì˜ ê°€ì¤‘ì¹˜ë¥¼ ë‹¬ë¦¬í•˜ì—¬ ìµœì¢… ìœ ì‚¬ë„ë¥¼ ë„ì¶œí•©ë‹ˆë‹¤.
```python
if 'ì¹œëª©' in my_purpose:
    minmax_scaler = MinMaxScaler()
    my_lat = df.loc[profile_idx]['latitude']
    my_long = df.loc[profile_idx]['longitude']
    df['distance'] = df.apply(lambda x : sqrt((my_lat - x['latitude'])**2 + (my_long - x['longitude'])**2), axis=1)
    df['distance_similarity'] = (1 - minmax_scaler.fit_transform(df[['distance']]))
    df['similarity'] = 0.1*df['purpose_similarity'] + 0.6*df['interest_similarity'] + 0.3*df['distance_similarity']
    df = df.sort_values(by="similarity", ascending=False)
    return df['id'].to_list()

elif 'í•œêµ­ìƒí™œì ì‘' in my_purpose:
    minmax_scaler = MinMaxScaler()
    df['rperiod_similarity'] = minmax_scaler.fit_transform(df[['rperiod']])
    df['rperiod_similarity'].apply(lambda x : 1 - x)
    df['similarity'] = 0.2*df['purpose_similarity'] + 0.2*df['interest_similarity'] + 0.6*df['rperiod_similarity']
    df = df.sort_values(by="similarity", ascending=False)
    return df['id'].to_list()

elif 'ìœ¡ì•„ì •ë³´ê³µìœ ' in my_purpose or 'í•œêµ­ì–´ê³µë¶€' in my_purpose:
    df['similarity'] = 0.2*df['purpose_similarity'] + 0.8*df['interest_similarity']
    df = df.sort_values(by="similarity", ascending=False)
    return df['id'].to_list()
```

# How to Start
### Installation
Git clone or download zip file

### Execution
1. build project
```
./gradlew build
```
2. run jar file
```
java -jar dagather-0.0.1-SNAPSHOT.jar
```
3. or you can just run application at intellij or STS
